# 字典
第四章程式碼：
<a href="https://colab.research.google.com/github/ytlLab/PYTHON/blob/main/ch04.ipynb" target="_blank">
  <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab">
</a>

# 字典
在 Python 的字典中，每一個元素都由鍵 (key) 和值 (value) 構成，
結構為key: value 。不同的元素之間會以逗號分隔，並且以大括號 {}圍住。

字典提供了非常快的查詢速度，使用的方法如下：
d = {key1: value1, key2: value2}

dictionary 是一種較為複雜的資料結構，對於資料的查找很方便。
舉例來說，一部電影會有導演、演員、年份、得到的獎項等等資訊，如果要把資訊整合在一起、使寫程式時表示起來比較方便查詢時，我們就會使用 dictionary 來儲存與這部電影相關的資訊。

```
#《搶救雷恩大兵》是一部美國於 1998 年上映的戰爭片，以這部電影來說，我們可以建立以下的字典：
#練習
movie = {'name':'Saving Private Ryan', #電影名稱
     	'year':1998, #電影上映年份
     	'director':'Steven Spielberg',#導演
     	'Writer': 'Robert Rodat', #編劇
     	'Stars':['Tom Hanks', 'Matt Damon', 'Tom Sizemore'],#明星
     	'Oscar ':['Best Director','Best Cinematography','Best Sound','Best Film Editing','Best Effects, Sound Effects Editing']
     	#獲得的奧斯卡獎項
    	}
print(movie )
```
movie 這個變數所代表的就是一個 dictionary，裡面包含了這部電影的名稱、上映年份、導演、編劇、主演的明星、以及所獲得的奧斯卡獎項。
如果今天我們想要知道這部電影的導演是誰，就使用 [] 來透過 key 取得這個 key 所對應的值 (value)。要印出導演的程式碼如下 :
```
#練習
print(movie['director'])
```
## 建立字典
字典裡元素的"值"(value)可以是任何的資料型態，例如: 字串、整數、list、物件等等。但 key 必須是唯一且不可變的，也就是在寫程式時不可隨意更動，如整數、字串、tuple 等。
Python 創建字典的方式有兩種:
- 使用大刮號 {}
```
dict_1 = {}
#使用大刮號{}創建字典
```
- 使用內建函數 dict()
```
dict_2 = dict()
```
也可以在建立字典的時候，便直接初始化字典的內容。

舉三部電影來當例子：
```
#練習
movie_1 = {'name': 'Saving Private Ryan',
       	'year': 1998,
       	'director': 'Steven Spielberg'}
movie_2 = dict(name='The Breakfast Club',
           	year=1985,
           	director='John Hughes')
movie_3 = {'name': 'Catch Me If You Can',
       	'year': 2002,
       	'director': 'Steven Spielberg'}

```

利用下面的作法來存取 key 的值，也就是透過 key 來取得對應的 value：
```
#練習
print(movie_1['name']) 	#執行後會得到 Saving Private Ryan
print(movie_2['year']) 	#執行後會得到 1985
print(movie_3['director']) #執行後會得到 Steven Spielberg
```

概念大概就是給了 key ，他就會返還一個 value 給你。 key 的資料型別沒有太多的限制，可以是 string (字串)、數字等等。如果今天輸入了一個並不存在的 key 的話，程式會回傳錯誤的訊息：
```
#練習
print(movie_1["cast"]) #這個會回傳錯誤的訊息
```

要避免上面的情況發生的話，可以使用 get method 來存取值，此時如果 key 不存在時，程式會回傳 None ，就不會回傳錯誤訊息了
```
#練習
print(movie_1.get("cast"))
#如果key不存在的話，程式會回傳None，不會出現錯誤訊息
```

如果不希望程式回傳 None ，而是想要自己另外設定空訊息的話，也可以在括號內設定自己想要的空訊息。
```
#練習
print(movie_1.get("cast", "not found"))
#可以自己設定空訊息
```

## 新增或更新資料
也可以使用存取值的做法來新增或是更動一筆元素的 key-value 。
用法如下:
dictName[key] = value
以 movie_1 的例子來說，如果想要增加一筆 key 為 "star"、 value 為 "Tom Hank" 的元素的話，程式碼如下：
```
#練習
movie_1['star'] = "Tom Hank" #新增key-value
print(movie_1)
```

如果一次要更新很多筆資料，建議可以使用 update method。
使用方法如下:
original_dict.update(new_dict)

以剛剛的 movie_1 例子而言，如果要一次增加編劇、明星、與所獲得的獎項等等，可以先創建一個新的 dictionary，裡面包含要增加的元素的，再使用 update method 完成更新。

```
#練習
#如果一次要update很多value at a time 用update method就會比較方便
temp_dict = {'writer': 'Robert Rodat', #編劇
     	'stars':['Tom Hanks', 'Matt Damon', 'Tom Sizemore'],#明星
     	'Oscar ':['Best Director','Best Cinematography','Best Sound','Best Film Editing','Best Effects, Sound Effects Editing']
     	}
movie_1.update(temp_dict)
print(movie_1)
```

## 刪除資料
如果要刪除一筆元素，有兩種方式：
1.del method
我們可以利用del敘述來刪除一筆元素的key - value，方法如下：
del dict_name['key']

以 movie_1 的例子來說，因為剛剛在 update 時已經新增了 stars 的項目，就顯得原有的 star 很多餘。所以在這裡我們要把他刪掉。
```
#練習
del movie_1['star']
```
執行此行程式碼後再印出 movie_1 ，可以看到 movie_1 中 key 為 'star' 的這筆元素已經不見了。

2. pop method
使用 pop method 的好處是他會回傳你要刪掉的那個值。
如果想要把 movie_1 裡面 key 為 writer 的元素刪除，同時回傳那個 key 所對應的值。程式碼如下：
```
#練習
writer = movie_1.pop('writer')
```
此時印出 writer ，可以看到他就是 movie_1 中， writer key 所對應的 value。print(writer) 的結果會印出原本writer key 所對應的 value — ‘Robert Rodat’，而原本的 movie_1 已經不包含 'writer':'Robert Rodat' 這個元素了。

## 其他用法
關於字典，還有許多其它很好用的方法。
	計算字典中的元素個數
1. 函式 len()可以適用於傳回字典中包含幾個元素:
     len(dict_name)
     如果要印出 movie_1 的長度，程式碼如下:
   ```
     print(len(movie_1))
     #執行結果如下，表示 movie_1 裡面有五個元素。
   ```  
2. 印出字典裡的所有 key
    如果要印出一個字典中所有的 key 值的話，可以使用 dictionary 中的 keys   method。他會回傳這個字典當中，包含的所有 key。
     使用方法如下:
     dict_name.keys()
     程式碼如下:
   ```
     print(movie_1.keys())
     #可以看到程式印出此字典包含的所有 key ，讓你了解這個字典裏面有哪些鍵值。
   ```  
3. 印出字典裡的所有 value
    如果是想要印出程式裡所有鍵值所對應的值，就可以使用 values method
    使用方法如下：
    dict_name.values()
    程式碼如下，在字典名稱後面加上 .values():
   ```
    print(movie_1.values())
    #可以看到程式印出這個字典中所包含的值。
   ``` 
4. 印出字典裡的所有元素
    想要同時看到字典的 key 還有 value，有 items method 可以使用：
    dict_name.items()
    程式碼如下：
   ```
    print(movie_1.items())
    #可以同時印出這個字典的 key 與 value：
   ``` 
5. 檢查指定的 key 是否存在於字典中
判斷字串是否存在於字典A中的用法，可以使用 in 這個語法。
'key' in dict_name 會回傳一個布林值 (bool) ，以 True或是 False告訴你這個 key 值是否存在於字典中。
'key' in dict_name
程式碼如下:
```
print( 'name' in movie_1)
print( 'Steven Spielberg' in movie_1)
#可以看到因為 'name' 有包含在 movie_1 的 key 值當中，所以會回傳 True 。
#但是要注意，因為他只會找 key 值，所以傳 value 進去會回傳 False 喔。
#例如第二行的程式碼， "Steven Spielberg" 包含於 movie_1 的 value 中，所以回傳的是False 。
```
6. 兩個字典之間的比較
假設有三個字典的內容如下：
```
#練習
movie_1 = {'name':'Saving Private Ryan',
       	'year':1998,
       	'director':'Steven Spielberg'}
movie_2 = dict(name = 'The Breakfast Club',
           	year = 1985,
           	director= 'John Hughes')
movie_3 = {'name':'Catch Me If You Can',
       	'year':2002,
       	'director':'Steven Spielberg'}
```

7. 比較運算子
利用“==”、 “!=”等兩個比較運算子，便可以判斷兩個字典是否包含相同的鍵-值對：
dict_name_1 == dict_name_2
程式碼如下，程式會回傳一個布林值 (bool)，若兩個字典包含相同的 key -value，會回傳 True ，反之則會回傳 False 。
```
print(movie_1 == movie_2)
#因為 movie_1 與 movie_2 不包含相同的鍵值對，所以會回傳 False。
```
如果是兩個順序不同、但是內容一樣的字典呢?
== 的判定不會在乎順序，只要內容相同的話，都會判定為 True。我們把 movie_1 的順序調換一下，創建一個新的 movie_4 來試試看。
```
movie_1 = {'name':'Saving Private Ryan',
           'year':1998,
           'director':'Steven Spielberg'}
movie_4 = { 'year':1998,
            'name':'Saving Private Ryan',
            'director':'Steven Spielberg'}
```
使用的 == 來判定兩個字典是否包含相同的鍵值對:
```
print(movie_1 == movie_4)
```

8. is 運算子
利用 is 運算子，則是可以判斷兩個字典是否為相同的物件。
在本例子，movie_1 和 movie_4 雖然包含相同的 key — value，但卻是不同的物件(不同東西)。
一般來說的使用方法如下:
dict1 is dict2
一樣拿movie_1 和 movie_4 的例子來說，程式碼如下:
```
  print(movie_1 is movie_4)
  print(movie_1 is movie_1)
  #可以看到 is 可以幫助我們判斷，兩個字典是不是相同的物件。
```
9. 產生或列印字典中的鍵值對
```
for key in movie_1:
	print(key)
for key, value in movie_1.items():
	print(key, value)
#以 movie_1 的例子來說，如果以我們平常使用迴圈的方式想要列印出字典中的內容的話，印出來的會是movie_1裡面的鍵值 (key)。
```
10. 使用for-loop來產生字典
我們可以利用for-loop產生一個“value”為“key ** 2” 的字典，在迴圈跑的同時，會產生字典的 key，並且指定這個鍵對應的 value :
```
#練習
dict_squares = {}
for i in range(6):
		dict_squares[i] = i**2
print(dict_squares)
```
## 作業
當使用者分別輸入「P」、「R」或「J」時，請利用字典(dict)的方法分別輸出「Python」、「Ruby」或「Java」。

資料來源：
[均一平台](https://www.junyiacademy.org/)</br>
[Python 初學第九講 — 字典](https://medium.com/ccclub/ccclub-python-for-beginners-tutorial-533b8d8d96f3)</br>

字典應用－角色扮演遊戲

介紹：
| 說明 | 對照圖片 |
| :--- | :--- |
| 在這個專案中，你要設計出一個迷宮角色扮演遊戲。</br>遊戲的主要目標是收集物資和逃出一間房子，</br>遊戲中還要小心躲開怪物的追捕！ | <img width="350" height="350" alt="image" src="https://github.com/user-attachments/assets/7fd456e9-9fac-4303-b51c-a2f1f512442a" /> |
| 增加新房間</br> 這個範例是非常簡單的角色扮演遊戲，</br>裡面只包含兩個房間。</br>這是這個遊戲的地圖： | <img width="350" height="300" alt="image" src="https://github.com/user-attachments/assets/bec6c702-49ec-4d73-a22a-b329ce7725e5" /> |
| 你可以輸入 </br>前往 南 </br>來從大廳移動到餐廳，</br>然後 前往 北 </br>再次回到大廳！ | <img width="350" height="450" alt="image" src="https://github.com/user-attachments/assets/b7670455-d625-4637-804b-e322ca01c085" /> |
| 如果你輸入了不能前往的方向會怎樣呢？ </br>在大廳中輸入 前往 西 的話</br>你會的到一個友善的錯誤提示訊息。 | <img width="350" height="200" alt="image" src="https://github.com/user-attachments/assets/82b9e4df-c8df-44f6-b59d-679906bfebdf" /> |
| 找到變數 rooms , </br>你可以看到地圖被編寫成地圖的形式</br>每一間房間是一個字典，並且用方位連接起每個房間。 | <img width="350" height="450" alt="image" src="https://github.com/user-attachments/assets/db1d469b-928d-468a-a79e-bfce703c29df" /> |
| 讓我們來把餐廳加進地圖中，並把它加在大廳的東邊。</br>你需要加入第三個房間，</br>取名為 餐廳, 並且將它跟大廳連結起來 (前往西邊)。</br>你也需要把資料添加到大廳裡，</br>如此一來當你往東邊移動就可以進入餐廳。| <img width="350" height="250" alt="image" src="https://github.com/user-attachments/assets/7ab67992-b3e3-46bd-8319-ce9f774ed820" /> |

加入第三個房間，取名為 餐廳, 並且將它跟大廳連結起來 (前往西邊)。
```
rooms = {

            '大廳' : {
                  '南' : '廚房',
                  '東' : '餐廳'
                },

            '廚房' : {
                  '北' : '大廳',
                },
            '餐廳':{
                '西' : '大廳'
              }
        }
```
| 說明 | 對照圖片 |
| :--- | :--- |
| 試玩看看包含了餐廳的地圖:</br>如果你不能正常的進出餐廳，</br>檢查看看你是不是正確的添加了上方的程式碼 | <img width="350" height="500" alt="image" src="https://github.com/user-attachments/assets/71a8f6d1-283d-467b-bd05-4ff3aa6d5f63" /> |

增加可以收集的物品
```
rooms = {
            '大廳' : {
                  '南' : '廚房',
                  '東' : '餐廳',
                  '物品':'鑰匙'
                },

            '廚房' : {
                  '北' : '大廳'
                },
            '餐廳':{
                '西' : '大廳',
                }
        }
```
| 說明 | 對照圖片 |
| :--- | :--- |
| 增加可以收集的物品</br>讓我們在房間中增加一些可以讓玩家收集的物品吧。</br> 要在房間中增加物品是非常簡單的，</br> 你可以把物品加入房間的字典中。</br>讓我們把鑰匙放在大廳裡！</br>要記得如果你要新增物品，</br>必須要在前一個物品後加上逗號,</br>要不然你的程式會無法執行！| <img width="350" height="450" alt="image" src="https://github.com/user-attachments/assets/11fc8fdc-e316-4d6c-a0bb-01ef55d9b8cc" />|
| 在你加入上方程式碼後執行程式，</br>你可以看到大廳中有一把鑰匙，</br>而且你可以把它撿起來 </br>（輸入 拾取 鑰匙）</br>就可以把物品放進你的背包中！ | <img width="350" height="450" alt="image" src="https://github.com/user-attachments/assets/75bef195-042e-400e-9565-e8ff78897cac" /> |

新增敵人
```
rooms = {
            '大廳' : {
                  '南' : '廚房',
                  '東' : '餐廳',
                  '物品':'鑰匙'
                },
            '廚房' : {
                  '北' : '大廳',
                  '物品':'怪物'
                },
            '餐廳':{
                '西' : '大廳'
                }
        }
```

| 說明 | 對照圖片 |
| :--- | :--- |
| 這個遊戲實在是太簡單了！</br>讓我們在一些房間中增加敵人，</br>讓玩家必須要躲避。</br>讓我們在廚房裡增加一些飢餓的野獸：| <img width="450" height="300" alt="image" src="https://github.com/user-attachments/assets/e9de4f96-b40a-44d0-a6b8-6e8750ac0506" /> |

在玩家進入有怪物的房間後結束遊戲
```
  if '物品' in rooms[currentRoom] and '怪物' in rooms[currentRoom]['物品']:
    print('你被怪物抓住了...GAME OVER!')
    break
```

| 說明 | 對照圖片 |
| :--- | :--- |
| 你會想要在玩家進入有怪物的房間後結束遊戲。</br>下面的程式碼可以讓你完成這件事，</br>讓我們把它加進程式碼的底部：</br>這段程式碼檢查房間種是否有物品，</br>如果有，再判斷它是不是怪物。</br>注意這段程式碼的縮排位置，</br>它比前段程式碼再前進一格，</br>這表示每當玩家進入新的房間時，</br>程式就會檢查一遍房間種有沒有怪物。| <img width="350" height="150" alt="image" src="https://github.com/user-attachments/assets/a1fc8ba1-cb05-4350-b9fc-c0539693ee20" />|
| 進入有怪物的廚房來測試程式碼。| <img width="350" height="350" alt="image" src="https://github.com/user-attachments/assets/aa9e6c3b-2c76-4668-a344-fb5c6730e216" />|

挑戰過關成功！

| 說明 | 對照圖片 |
| :--- | :--- |
| 讓我們指派一個任務給玩家，</br>完成這個任務就可以過關！</br>在這個遊戲中，玩家就由逃到花園中來取得勝利，</br>同時他們背包中應該要有鑰匙和魔藥。</br>這是一張遊戲的地圖： | <img width="350" height="250" alt="image" src="https://github.com/user-attachments/assets/a9b2d861-5d13-4527-8989-80041fa541b4" /> |

首先，你需要在寢室的南邊加上花園。記得新增連接到其他房間的房門。在餐廳中新增魔藥（或其他房間）。
```
rooms = {

            '大廳' : {
                  '南' : '廚房',
                  '東' : '餐廳',
                  '物品':'鑰匙'
                },

            '廚房' : {
                  '北' : '大廳',
                  '物品':'怪物'
                },
            '餐廳':{
                '西' : '大廳',
                '南' : '花園',
                '物品':'魔藥'
                },
            '花園':{
                '北' : '餐廳'
              }
        }

```
加入下方程式碼，讓玩家在進入花園且擁有鑰匙和魔藥時過關。確認這段程式碼和上一段一樣，往前縮排一格。這段程式碼代表 你逃出了這棟房子！... 你贏了！ 會顯示出來如果玩家是在第四個房間 （花園）且背包中有鑰匙和魔藥。
```
  if currentRoom=='花園' and '鑰匙' in inventory and '魔藥' in inventory:
    print('你逃出了這棟房子...你贏了!')
    break
```

| 說明 | 對照圖片 |
| :--- | :--- |
| 測試你的程式碼，</br>確認玩家可以過關。</br> | <img width="350" height="500" alt="image" src="https://github.com/user-attachments/assets/576f7b25-6a51-4123-899a-33ad7447da05" /> |
| 最後，讓我們在遊戲中加入一些指示，</br>讓玩家知道他們該做什麼。</br>編輯 showInstructions() </br>還是來包含更多指示。</br>你會需要加入指示，</br>讓玩家知道他們應該收集什麼，</br>和躲開什麼。| <img width="350" height="350" alt="image" src="https://github.com/user-attachments/assets/b06cae82-6e1c-4a5b-8490-f068933b1761" /> |
| 測試你的遊戲，</br>你應該看到新的指示。</br> | <img width="350" height="300" alt="image" src="https://github.com/user-attachments/assets/70496324-7e6b-401d-a3ed-53ba40659807" /> |

挑戰: 開發你自己的遊戲！

使用你學到的知識來開發自己的遊戲。新增大量房間，和更多要避免的的怪物和要收集的物品。記的要修改程式碼，當玩家進入擁有某些物品清單的房間時獲勝。在開始寫程式之前繪製地圖可以很有幫助！
你甚至可以通過輸入go up和go down在地圖上增加樓梯並擁有一層以上的房間。
